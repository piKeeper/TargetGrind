while isOn and teleportLoopRunning do
	local targetBoxesFolder = workspace:FindFirstChild("TargetBoxes")
	if targetBoxesFolder then
		local targets = {}
		for _, targetBox in ipairs(targetBoxesFolder:GetChildren()) do
			if targetBox:IsA("Model") and targetBox.Name == "TargetBox" then
				table.insert(targets, targetBox)
			end
		end

		if #targets > 0 then
			local randomTarget = targets[math.random(1, #targets)]
			local head = randomTarget:FindFirstChild("Head")
			local character = player.Character or player.CharacterAdded:Wait()
			local hrp = character:WaitForChild("HumanoidRootPart", 3)

			if head and hrp then
				local targetPos = head.Position + Vector3.new(0, 10, 0)
				pcall(function()
					hrp.CFrame = CFrame.new(targetPos)
				end)
			end
		end
	end
	task.wait(0.5)
end
